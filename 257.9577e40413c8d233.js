"use strict";(self.webpackChunkFreshCart=self.webpackChunkFreshCart||[]).push([[257],{2257:(w,d,c)=>{c.r(d),c.d(d,{WishlistModule:()=>W});var h=c(6814),m=c(7163),t=c(4769),u=c(4807),p=c(7422),g=c(2425),v=c(7409);function f(s,n){if(1&s){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"div"),t._UZ(3,"img",9),t.qZA()(),t.TgZ(4,"div",10)(5,"div")(6,"h4"),t._uU(7),t.qZA(),t.TgZ(8,"p",5),t._uU(9),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"button",11),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.removeWishlistItem(l.id,r))}),t._UZ(14,"i",12),t._uU(15," Remove "),t.qZA()()(),t.TgZ(16,"div",13)(17,"div")(18,"button",14),t.NdJ("click",function(r){const l=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.addToCart(l.id,r))}),t._UZ(19,"i",15),t._uU(20," Add to Cart "),t.qZA()()()()}if(2&s){const e=n.$implicit;t.xp6(3),t.Q6J("src",e.imageCover,t.LSH),t.xp6(4),t.Oqu(e.description),t.xp6(2),t.hij(" ",e.category.name," "),t.xp6(2),t.Oqu(t.gM2(12,4,e.price,"EGP","symbol","1.0-0"))}}function _(s,n){if(1&s&&(t.TgZ(0,"div",2)(1,"h2",3),t._uU(2,"Wishlist Details:"),t.qZA(),t.TgZ(3,"p",4),t._uU(4," Total item: "),t.TgZ(5,"span",5),t._uU(6),t.qZA()(),t.YNc(7,f,21,9,"div",6),t.qZA()),2&s){const e=t.oxw();t.xp6(6),t.Oqu(e.wishlistData.length),t.xp6(1),t.Q6J("ngForOf",e.wishlistData)}}function x(s,n){1&s&&(t.TgZ(0,"div",16)(1,"h2",17),t._uU(2,"Your Wishlist is Empty ..."),t.qZA()())}const C=[{path:"",component:(()=>{var s;class n{constructor(i,r,o,l){this._productsApiService=i,this._cartService=r,this.toastr=o,this._wishlistService=l,this.productList=[],this.categoryList=[],this.searchKey="",this.wishIdlist=[]}ngOnInit(){this._productsApiService.getAllCategories().subscribe({next:i=>{this.categoryList=i.data},error:i=>{console.log(i)}}),this._productsApiService.getAllProducts().subscribe({next:i=>{this.productList=i.data},error:i=>{console.log(i)}}),this._wishlistService.getWishlist().subscribe({next:i=>{this.wishIdlist=i.data.map(r=>r._id),this.wishlistData=i.data},error:i=>{console.log(i)}})}addToCart(i,r){r.stopPropagation(),this._cartService.addProductToCart(i).subscribe({next:o=>{this._cartService.numOfCartItems.next(o.numOfCartItems),this.toastr.success("Product Added Successfully to Cart")},error:o=>{console.log(o)}})}removeWishlistItem(i,r){r.stopPropagation(),this._wishlistService.removeWishlistItem(i).subscribe({next:o=>{this.toastr.success(o.message),this._wishlistService.numOfwishItems.next(o.data.length),this.wishIdlist=o.data,this._wishlistService.getWishlist().subscribe({next:l=>{this.wishIdlist=l.data.map(a=>a._id),this.wishlistData=l.data},error:l=>{console.log(l)}})},error:o=>{console.log(o)}})}}return(s=n).\u0275fac=function(i){return new(i||s)(t.Y36(u.b),t.Y36(p.N),t.Y36(g._W),t.Y36(v.M))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-wishlist"]],decls:3,vars:2,consts:[["class","py-5",4,"ngIf","ngIfElse"],["EmptyWishlist",""],[1,"py-5"],[1,"fw-semibold"],[1,"fw-semibold","p-3","h5","my-4","bg-main-light"],[1,"text-main"],["class","row p-3 border-bottom bg-main-light gx-0",4,"ngFor","ngForOf"],[1,"row","p-3","border-bottom","bg-main-light","gx-0"],[1,"col-md-2"],[1,"w-75",3,"src"],[1,"col-md-8"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa-regular","fa-trash-can"],[1,"col-md-2","text-center"],[1,"btn","bg-main","w-100","text-white","text-center","mt-3",3,"click"],[1,"fas","fa-plus"],[1,"py-5","h-fix"],[1,"text-center","fw-semibold"]],template:function(i,r){if(1&i&&(t.YNc(0,_,8,2,"div",0),t.YNc(1,x,3,0,"ng-template",null,1,t.W1O)),2&i){const o=t.MAs(2);t.Q6J("ngIf",r.wishlistData&&r.wishlistData.length>0)("ngIfElse",o)}},dependencies:[h.sg,h.O5,h.H9]}),n})()}];let b=(()=>{var s;class n{}return(s=n).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.Bz.forChild(C),m.Bz]}),n})(),W=(()=>{var s;class n{}return(s=n).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[h.ez,b]}),n})()}}]);